# Montserrat experimental traps data analysis and visualization
Code and data for Montserrat experimental fish trap paper

## Contents
- `data`: contains experimental data:
  * `traps_data.csv` - original data with each row representing one fish measurement from a trap
  * `traps_hauls.csv` - trap data summarised at the haul level, with each row representing a single haul of a trap
- `functions`: all functions. These will be called from one or more `scripts`.
- `outputs`: contains all outputs from scripts, including figures and csv files.
  * `figures` - figures saved from all scripts except model summaries which are saved in their own folders (see below)
  * `glmer_models` - pdf files of model outputs for all generalized linear mixed effects models (negative binomial distributions) including model diagnostics, selection tables, dot-and-whisker plots of all models, and summaries.
  * `lmer_models` - pdf files of model outputs for all linear mixed effects models including model diagnostics, selection tables, dot-and-whisker plots of all models, and summaries.
  * `response_plots` - response plots, i.e. plots of all response variables (mean fish length, mean total fish biomass, number of fish, and species richness) versus all explanatory variables (experimental or control trap, trap design, location, etc.)
- `scripts`: all scripts. These receive inputs from `data` and store outputs in `outputs`
  * `catch_characterization_comparison.Rmd` - Basic summaries of the catch data and environmental data, trap haul dates, and catch composition
  * `catch_paired_tests.Rmd` - Comparisons of total number of fish, mean length of fish, total weight of fish (biomass), total number of species (i.e. species richness), and Shannon diversity index per haul in control and experimental traps using only data from trap pairs hauled together. t-tests (parametric) and Wilcoxon-signed rank tests (non-parametric) used.
  * `length_frequency.Rmd` - length-frequency plots and Kolomogorov-Smirnov tests for all data, small fish subsets of data, individual species and long, medium and short soak times.
  * `linear_models.Rmd`: this runs linear mixed effects models or generalized linear mixed effects models for mean fish length, biomass, total number of fish, and total number of fish species per haul. It outputs pdf files of model results and diagnostics. Two functions are called to do the actual work: `all_models.R` and `all_models_glmer.R` depending on if it is a LMM or GLMM that is being run. Exploratory plots of all explanatory variables are also generated by this script. All outputs are saved in `outputs`, under folders `glmer_models` (for GLMMs), `lmer_models` (for LMMs), or `response_plots` (for all exploratory plots).
  * `species_family_analysis.Rmd`: comparison of proportion of thick- and thin-bodied fish in control and experimental traps (figure with significance), chi-squared tests for proportion species in control and experimental traps. 
